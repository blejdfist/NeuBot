<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>NeuerBot: NeuBot Developer Documentation</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>NeuBot Developer Documentation</h1>
<p>
<h2><a class="anchor" name="module">
Writing modules</a></h2>
Module skeleton <div class="fragment"><pre class="fragment"> <span class="keyword">from</span> lib <span class="keyword">import</span> Plugin
 <span class="keyword">class </span>MyModule(Plugin):
     <span class="keyword">def </span>__init__(self):
         self.name = <span class="stringliteral">"Skeleton Module"</span>
         self.author = <span class="stringliteral">"Jim Persson"</span>
         self.version = <span class="stringliteral">"1.0"</span>

         <span class="comment"># Register commands</span>
         self.event.register_command(<span class="stringliteral">"mycommand"</span>,         self.cmd_mycommand)
         self.event.register_command(<span class="stringliteral">"privilegedcommand"</span>, self.cmd_privilegedcommand, <span class="keyword">True</span>)

         <span class="comment"># Register an event</span>
         self.event.register_event(<span class="stringliteral">"PRIVMSG"</span>, self.event_privmsghook)

         <span class="comment"># Register a timer</span>
         self.event.register_timer(self.timer_timeout, 10)

         <span class="comment"># Put a value in the data store</span>
         self.store.put(<span class="stringliteral">"a_list"</span>, [1,2,3,4])

     <span class="keyword">def </span>cmd_mycommand(self, irc, params):
         <span class="stringliteral">"""Does nothing special"""</span>
         irc.reply(<span class="stringliteral">"Params: "</span> + params)

     <span class="keyword">def </span>cmd_privilegedcommand(self, irc, params):
         <span class="stringliteral">"""This command is privileged"""</span>
         <span class="comment"># Retrieve a value from the data store and display it to the user</span>
         tmp = self.store.get(<span class="stringliteral">"a_list"</span>)
         irc.reply(tmp)

     <span class="keyword">def </span>event_privmsghook(self, irc):
         irc.reply(<span class="stringliteral">"Message from "</span> + irc.message.source)

     <span class="keyword">def </span>timer_timeout(self):
         <span class="comment"># Timer fired</span>
         <span class="keywordflow">pass</span>
</pre></div><p>
When a module is instantiated it is automatically given a few attributes <ul>
<li>
self.event <a class="el" href="classcontrollers_1_1eventcontroller_1_1EventController.html">EventController </a> </li>
<li>
self.store <a class="el" href="classlib_1_1db_1_1store_1_1Store.html">Store </a> (Wrapper around <a class="el" href="classcontrollers_1_1datastorecontroller_1_1DatastoreController.html">DatastoreController </a>) </li>
<li>
self.plugin <a class="el" href="classcontrollers_1_1plugincontroller_1_1PluginController.html">PluginController </a> - Be careful with this one </li>
<li>
self.config <a class="el" href="classcontrollers_1_1configcontroller_1_1ConfigController.html">ConfigController </a> </li>
</ul>
<p>
Command documentation for callbacks can be put in the __doc__ for that command by writing the help in a triple-quote enclosed comment in the method header <div class="fragment"><pre class="fragment"> <span class="keyword">def </span>cmd_mycommand(self, irc, params):
     <span class="stringliteral">"""</span>
<span class="stringliteral">     This is the documentation for this command.</span>
<span class="stringliteral">     It can be on multiple lines if needed."""</span>
     irc.reply(<span class="stringliteral">"Hello!"</span>)
</pre></div><h2><a class="anchor" name="useful_classes">
Useful classes</a></h2>
<ul>
<li>
<a class="el" href="classcontrollers_1_1ircmessagecontroller_1_1IRCMessageController.html">IRCMessageController </a> - Gets passed as the first argument to command callbacks </li>
<li>
<a class="el" href="classcontrollers_1_1irccontroller_1_1IRCController.html">IRCController </a> - Methods not handled by IRCMessageController is taken care by the current IRCController </li>
</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Jan 31 22:13:29 2010 for NeuerBot by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
